<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HBet 5/50 - Backtest Results</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><rect width='16' height='16' fill='%231a1a1a'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Inter, sans-serif' font-size='12' fill='white'>H</text></svg>" />
    <meta
        name="description"
        content="Review historical backtest results for Gosloto 5/50 predictions."
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Custom CSS for enhanced aesthetics - Copied from index.html */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Darker, GitHub-like background */
            color: #e2e8f0; /* Light gray text for contrast */
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scroll */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1a202c; /* Dark track */
        }
        ::-webkit-scrollbar-thumb {
            background: #4a5568; /* Medium gray thumb */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280; /* Lighter gray on hover */
        }

        /* Realistic Lotto Balls - Copied from index.html */
        .number-ball {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 65px;
            height: 65px;
            font-size: 1.5rem;
            font-weight: 900;
            color: #fff;
            border-radius: 50%;
            position: relative;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            flex-shrink: 0;
            user-select: none;
            cursor: pointer;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.8);
            /* Realistic ball shadow and depth */
            box-shadow:
                0 8px 16px rgba(0, 0, 0, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.2),
                inset 0 -8px 12px rgba(0, 0, 0, 0.3),
                inset 0 8px 12px rgba(255, 255, 255, 0.15);
            /* 3D sphere effect */
            background: radial-gradient(circle at 30% 30%,
                rgba(255, 255, 255, 0.3) 0%,
                rgba(255, 255, 255, 0.1) 30%,
                rgba(0, 0, 0, 0.1) 70%,
                rgba(0, 0, 0, 0.3) 100%);
        }

        /* Realistic highlight on top-left */
        .number-ball::before {
            content: '';
            position: absolute;
            top: 12%;
            left: 18%;
            width: 25%;
            height: 25%;
            background: radial-gradient(ellipse,
                rgba(255, 255, 255, 0.8) 0%,
                rgba(255, 255, 255, 0.4) 40%,
                transparent 70%);
            border-radius: 50%;
            transform: rotate(-30deg) scale(1.2, 0.8);
            filter: blur(1px);
        }

        /* Secondary smaller highlight */
        .number-ball::after {
            content: '';
            position: absolute;
            top: 20%;
            left: 35%;
            width: 12%;
            height: 12%;
            background: radial-gradient(circle,
                rgba(255, 255, 255, 0.6) 0%,
                transparent 50%);
            border-radius: 50%;
            filter: blur(0.5px);
        }

        .number-ball:hover {
            transform: translateY(-6px) scale(1.1) rotate(5deg);
            /* Enhanced shadow for lifted realistic effect */
            box-shadow:
                0 16px 32px rgba(0, 0, 0, 0.5),
                0 8px 16px rgba(0, 0, 0, 0.3),
                inset 0 -12px 16px rgba(0, 0, 0, 0.4),
                inset 0 12px 16px rgba(255, 255, 255, 0.2);
            z-index: 10;
            /* Enhance the 3D effect on hover */
            background:
                radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.4) 0%, transparent 35%),
                radial-gradient(circle at 75% 75%, rgba(0, 0, 0, 0.3) 0%, transparent 50%),
                inherit;
        }

        /* Enhanced hover highlight */
        .number-ball:hover::before {
            opacity: 1;
            transform: rotate(-30deg) scale(1.4, 1.0);
            background: radial-gradient(ellipse,
                rgba(255, 255, 255, 0.9) 0%,
                rgba(255, 255, 255, 0.5) 40%,
                transparent 70%);
        }

        .number-ball:active {
            transform: translateY(-3px) scale(1.05) rotate(2deg);
            transition: all 0.1s ease;
        }

        /* Realistic lotto ball colors with 3D sphere effects - Copied from index.html */
        .number-ball:nth-child(7n + 1) {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 30%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
                linear-gradient(145deg, #4c51bf 0%, #2d3748 100%);
            box-shadow:
                0 8px 16px rgba(76, 81, 191, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                inset 0 8px 12px rgba(255, 255, 255, 0.15);
        }
        .number-ball:nth-child(7n + 2) {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 30%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
                linear-gradient(145deg, #059669 0%, #1a202c 100%);
            box-shadow:
                0 8px 16px rgba(5, 150, 105, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                inset 0 8px 12px rgba(255, 255, 255, 0.15);
        }
        .number-ball:nth-child(7n + 3) {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 30%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
                linear-gradient(145deg, #ec4899 0%, #2d1b3d 100%);
            box-shadow:
                0 8px 16px rgba(236, 72, 153, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                inset 0 8px 12px rgba(255, 255, 255, 0.15);
        }
        .number-ball:nth-child(7n + 4) {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 30%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
                linear-gradient(145deg, #f59e0b 0%, #2d1e0a 100%);
            box-shadow:
                0 8px 16px rgba(245, 158, 11, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                inset 0 8px 12px rgba(255, 255, 255, 0.15);
        }
        .number-ball:nth-child(7n + 5) {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 30%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
                linear-gradient(145deg, #a78bfa 0%, #1e1b3a 100%);
            box-shadow:
                0 8px 16px rgba(167, 139, 250, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                inset 0 8px 12px rgba(255, 255, 255, 0.15);
        }
        .number-ball:nth-child(7n + 6) {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 30%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
                linear-gradient(145deg, #ef4444 0%, #2d1515 100%);
            box-shadow:
                0 8px 16px rgba(239, 68, 68, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                inset 0 8px 12px rgba(255, 255, 255, 0.15);
        }
        .number-ball:nth-child(7n + 7) {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.3) 0%, transparent 30%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 50%),
                linear-gradient(145deg, #14b8a6 0%, #0a2e2a 100%);
            box-shadow:
                0 8px 16px rgba(20, 184, 166, 0.4),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                inset 0 8px 12px rgba(255, 255, 255, 0.15);
        }

        /* Realistic bonus balls - Golden/Yellow color like real lottery */
        .bonus-ball {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.4) 0%, transparent 30%),
                radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.3) 0%, transparent 50%),
                linear-gradient(145deg, #fbbf24 0%, #92400e 100%) !important;
            box-shadow:
                0 8px 16px rgba(251, 191, 36, 0.5),
                0 4px 8px rgba(0, 0, 0, 0.3),
                inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                inset 0 8px 12px rgba(255, 255, 255, 0.2) !important;
            color: #7c2d12 !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6) !important;
            animation: bonus-glow 3s ease-in-out infinite alternate;
        }

        @keyframes bonus-glow {
            0% {
                box-shadow:
                    0 8px 16px rgba(251, 191, 36, 0.5),
                    0 4px 8px rgba(0, 0, 0, 0.3),
                    inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                    inset 0 8px 12px rgba(255, 255, 255, 0.2),
                    0 0 20px rgba(251, 191, 36, 0.3);
            }
            100% {
                box-shadow:
                    0 10px 20px rgba(251, 191, 36, 0.7),
                    0 6px 12px rgba(0, 0, 0, 0.4),
                    inset 0 -8px 12px rgba(0, 0, 0, 0.4),
                    inset 0 8px 12px rgba(255, 255, 255, 0.3),
                    0 0 30px rgba(251, 191, 36, 0.5);
            }
        }

        /* Enhanced hit numbers */
        .hit-number {
            background: linear-gradient(145deg, #10b981 0%, #34d399 50%, #6ee7b7 100%) !important;
            box-shadow:
                0 8px 25px rgba(16, 185, 129, 0.6),
                inset 0 0 15px rgba(255, 255, 255, 0.2),
                0 0 30px rgba(16, 185, 129, 0.4) !important;
            animation: success-pulse 1.5s ease-in-out;
        }

        @keyframes success-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Realistic tiny number balls */
        .tiny-number-ball {
            width: 36px !important;
            height: 36px !important;
            font-size: 0.9rem !important;
            font-weight: 800 !important;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.7) !important;
            /* Smaller realistic ball effects */
            box-shadow:
                0 4px 8px rgba(0, 0, 0, 0.4),
                0 2px 4px rgba(0, 0, 0, 0.2),
                inset 0 -4px 6px rgba(0, 0, 0, 0.3),
                inset 0 4px 6px rgba(255, 255, 255, 0.15) !important;
        }

        .tiny-number-ball:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow:
                0 6px 12px rgba(0, 0, 0, 0.5),
                0 3px 6px rgba(0, 0, 0, 0.3),
                inset 0 -4px 6px rgba(0, 0, 0, 0.3),
                inset 0 4px 6px rgba(255, 255, 255, 0.2) !important;
        }

        /* Apply same realistic background to tiny balls */
        .tiny-number-ball::before {
            content: '';
            position: absolute;
            top: 15%;
            left: 20%;
            width: 20%;
            height: 20%;
            background: radial-gradient(ellipse,
                rgba(255, 255, 255, 0.7) 0%,
                rgba(255, 255, 255, 0.3) 40%,
                transparent 70%);
            border-radius: 50%;
            transform: rotate(-30deg) scale(1.2, 0.8);
            filter: blur(0.5px);
        }

        /* --- START: Flash Message Styling Fix --- */
        @keyframes slideDownFadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -100%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        .flash-container {
            position: fixed;
            top: 1.5rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            width: 90%;
            max-width: 500px;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .flash-message {
            padding: 1rem;
            border-radius: 0.75rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #fff;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border: 1px solid;
            animation: slideDownFadeIn 0.5s ease-out forwards;
        }
        .flash-message.success { background-color: #059669; border-color: #047857;}
        .flash-message.error { background-color: #dc2626; border-color: #b91c1c;}
        .flash-message.info { background-color: #2563eb; border-color: #1d4ed8;}
        .flash-message.warning { background-color: #d97706; border-color: #b45309;}
        .flash-message .close-button {
            background: none;
            border: none;
            color: inherit;
            font-size: 1.75rem;
            cursor: pointer;
            margin-left: 1rem;
            line-height: 1;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .flash-message .close-button:hover {
            opacity: 1;
        }
        /* --- END: Flash Message Styling Fix --- */

        /* Section Styling */
        section {
            background-color: #1a202c; /* Darker card background */
            padding: 2.5rem; /* More padding */
            border-radius: 1.5rem; /* More rounded corners */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); /* Deeper shadow */
            margin-bottom: 20px; /* Space between sections */
            margin-top: 20px;
        }

        /* Table Styling */
        table {
            border-collapse: separate; /* Allows border-radius on cells */
            border-spacing: 0;
            overflow: hidden; /* Ensures rounded corners are visible */
        }
        thead {
            background-color: #2d3748; /* Darker header */
            color: #a0aec0; /* Lighter gray for header text */
        }
        th, td {
            padding: 1.25rem; /* More padding */
            text-align: left; /* Ensure text alignment */
            border-bottom: 1px solid #2d3748; /* Subtle row separator */
        }
        tbody tr:last-child td {
            border-bottom: none; /* No border on last row */
        }
        tbody tr:nth-child(even) {
            background-color: #1f2937; /* Subtle stripe effect */
        }
        tbody tr:hover {
            background-color: #2d3748; /* Darker hover effect */
        }

        /* Enhanced Marquee Banner Styles */
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        @keyframes bannerGlow {
            0%, 100% {
                box-shadow:
                    0 4px 15px rgba(0, 0, 0, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1),
                    0 0 20px rgba(79, 70, 229, 0.2);
            }
            50% {
                box-shadow:
                    0 6px 20px rgba(0, 0, 0, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.15),
                    0 0 30px rgba(79, 70, 229, 0.4);
            }
        }

        .marquee-container {
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            box-sizing: border-box;
            background: linear-gradient(135deg, #1f2937 0%, #111827 50%, #1f2937 100%);
            color: #e5e7eb;
            padding: 1rem 0;
            font-weight: 700;
            font-size: 1.1rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.7);
            border-radius: 1rem;
            border: 2px solid transparent;
            background-clip: padding-box;
            position: relative;
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            animation: bannerGlow 3s ease-in-out infinite;
        }

        .marquee-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #4f46e5, #7c3aed, #4f46e5);
            border-radius: 1rem;
            z-index: -1;
            padding: 2px;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: destination-out;
        }

        .marquee-text {
            display: inline-block;
            padding-left: 100%;
            animation: marquee 20s linear infinite;
            background: linear-gradient(90deg, #e5e7eb, #f3f4f6, #e5e7eb);
            background-size: 200% 100%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: marquee 20s linear infinite, textShimmer 7s ease-in-out infinite;
        }

        @keyframes textShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Responsive scaling */
        @media (max-width: 768px) {
            .number-ball {
                width: 50px;
                height: 50px;
                font-size: 1.1rem;
            }
            .tiny-number-ball {
                width: 30px !important;
                height: 30px !important;
                font-size: 0.8rem !important;
            }
            section {
                padding: 1.5rem;
                border-radius: 1rem;
            }
            th, td {
                padding: 0.8rem;
            }
            /* Hide columns on mobile */
            .mobile-hidden {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .number-ball {
                width: 40px;
                height: 40px;
                font-size: 0.9rem;
            }
            .tiny-number-ball {
                width: 25px !important;
                height: 25px !important;
                font-size: 0.7rem !important;
            }
            section {
                padding: 1rem;
                border-radius: 0.75rem;
            }
            th, td {
                padding: 0.6rem;
            }
        }

        button:hover::before, .btn:hover::before {
            left: 100%;
        }

        /* Form input enhancements */
        input[type="text"], input[type="email"], input[type="password"], select, textarea, input[type="number"], input[type="date"] {
            background-color: #1f2937; /* Darker secondary background */
            border: 2px solid #4a5568; /* Border color */
            color: #e2e8f0; /* Primary text color */
            padding: 0.875rem 1rem;
            border-radius: 0.75rem;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        input[type="text"]:focus, input[type="email"]:focus, input[type="password"]:focus, select:focus, textarea:focus, input[type="number"]:focus, input[type="date"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background-color: #2d3748; /* Slightly lighter card background on focus */
        }

        /* Enhanced card hover effects */
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-hover:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6); /* Adjusted shadow for hover */
        }

        /* Glow effects for important elements */
        .glow-primary {
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .glow-success {
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
        }

        .glow-warning {
            box-shadow: 0 0 20px rgba(217, 119, 6, 0.3);
        }

        .glow-error {
            box-shadow: 0 0 20px rgba(220, 38, 38, 0.3);
        }

        /* General button styling */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            z-index: -1;
        }

        .btn:hover::before {
            left: 0;
        }

        .btn-primary {
            background-color: #4f46e5; /* Indigo-600 */
            color: white;
            box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);
        }
        .btn-primary:hover {
            background-color: #4338ca; /* Indigo-700 */
            box-shadow: 0 6px 15px rgba(79, 70, 229, 0.4);
        }

        .btn-secondary {
            background-color: #4a5568; /* Gray-700 */
            color: white;
            box-shadow: 0 4px 10px rgba(74, 85, 104, 0.3);
        }
        .btn-secondary:hover {
            background-color: #2d3748; /* Gray-800 */
            box-shadow: 0 6px 15px rgba(74, 85, 104, 0.4);
        }

        .btn-success {
            background-color: #059669; /* Emerald-600 */
            color: white;
            box-shadow: 0 4px 10px rgba(5, 150, 105, 0.3);
        }
        .btn-success:hover {
            background-color: #047857; /* Emerald-700 */
            box-shadow: 0 6px 15px rgba(5, 150, 105, 0.4);
        }

        .btn-danger {
            background-color: #dc2626; /* Red-600 */
            color: white;
            box-shadow: 0 4px 10px rgba(220, 38, 38, 0.3);
        }
        .btn-danger:hover {
            background-color: #b91c1c; /* Red-700 */
            box-shadow: 0 6px 15px rgba(220, 38, 38, 0.4);
        }

         @keyframes marquee {
             0%{ transform: translateX(100%); }
             100% { transform: translateX(-100%); }
        }

        .animate-marquee {
          display: inline-block;
          animation: marquee 30s linear infinite;
        }
        
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4">

    <!-- Flash Messages Container -->
    <div class="flash-container">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="flash-message {{ category }}">
                        <span>{{ message }}</span>
                        <button class="close-button" aria-label="Close">&times;</button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>

    <div class="max-w-6xl w-full flex flex-col space-y-10">
        <header class="text-center mb-10 p-6 bg-[#1a202c] rounded-xl shadow-xl">
            <h1 class="text-6xl font-extrabold text-white tracking-tight leading-tight mb-2">HBet 5/50</h1>
            <p class="text-gray-400 text-xl mt-1">Your Smart Companion for Gosloto 5/50</p>
            <nav class="mt-6">
                <ul class="flex flex-wrap justify-center gap-x-8 gap-y-4 text-indigo-300 text-lg font-semibold">
                    <li><a href="{{ url_for('index') }}" class="btn btn-primary text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Home</a></li>
                    {% if not logged_in %}
                        <li><a href="{{ url_for('login') }}" class="btn btn-success text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Login</a></li>
                        <li><a href="{{ url_for('register') }}" class="btn btn-danger text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Register</a></li>
                    {% else %}
                        <li><a href="{{ url_for('logout') }}" class="btn btn-danger text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Logout</a></li>
                        {% if not is_subscribed %}
                            <li><a href="{{ url_for('subscribe_info') }}" class="btn bg-yellow-500 hover:bg-yellow-600 text-white text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Subscribe</a></li>
                        {% endif %}
                        <li><a href="{{ url_for('telegram_settings') }}" class="btn btn-primary text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Telegram Settings</a></li>
                        {% if is_admin %} {# Check for is_admin from session #}
                            <li><a href="{{ url_for('admin_panel') }}" class="btn btn-danger text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Admin Panel</a></li>
                        {% endif %}                      
                        {# <li><a href="{{ url_for('backtest_results_page') }}" class="btn btn-success text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">Backtest Results</a></li> #}
                    {% endif %}
                </ul>
            </nav>
        </header>

        <main class="w-full space-y-4">
            <div class="w-full overflow-hidden bg-gradient-to-r from-purple-800 via-indigo-900 to-purple-800 py-2 shadow-lg">
                <div class="animate-marquee whitespace-nowrap">
                    <p class="text-white text-xl md:text-2xl font-semibold tracking-wide px-4">
                        {{ banner_message }}
                    </p>
                </div>
            </div>


            <section class="p-8 bg-[#1a202c] rounded-xl shadow-lg border border-indigo-500 card-hover">
                <h2 class="text-3xl font-bold text-white mb-6 text-center">Current Prediction</h2>
                {% if logged_in %}
                    {% if is_subscribed %}
                        {% if current_prediction_vs_actual %}
                        <div class="flex flex-col items-center space-y-4">
                            <p class="text-gray-300 text-lg">Next Draw Target: <span class="font-semibold text-white">{{ current_prediction_vs_actual.target_draw_time.strftime('%Y-%m-%d %H:%M %Z') if current_prediction_vs_actual.target_draw_time else 'N/A' }}</span></p>
                            <p class="text-gray-300 text-lg">Strategy: <span class="font-semibold text-white">{{ current_prediction_vs_actual.strategy_used }}</span></p>
                            <p class="text-gray-300 text-lg">Based on Bonus Balls:
                                {% for bonus_num in current_prediction_vs_actual.bonus %}
                                    <span class="number-ball bonus-ball tiny-number-ball">{{ bonus_num }}</span>{% if not loop.last %},{% endif %}
                                {% endfor %}
                            </p>
                            <div class="flex flex-wrap gap-2 justify-center mt-4">
                                {% for num in current_prediction_vs_actual.prediction %}
                                    <div class="number-ball">{{ num }}</div>
                                {% endfor %}
                            </div>
                            <form action="{{ url_for('send_alert') }}" method="POST" class="mt-6">
                                <button type="submit" class="btn btn-success text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                                    Get Telegram Alert!
                                </button>
                            </form>
                        </div>

                        <div class="mt-8 pt-6 border-t border-gray-700">
                            <button id="toggleTicketCombos" class="w-full flex justify-between items-center py-3 px-4 bg-gray-700 hover:bg-gray-600 rounded-lg text-white font-semibold text-lg transition duration-200 ease-in-out" aria-expanded="false" aria-controls="ticketCombosContent">
                                <span>Show Ticket Combos</span>
                                <svg id="toggleIcon" class="w-6 h-6 transform transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>
                            <div id="ticketCombosContent" class="max-h-0 overflow-hidden transition-all duration-500 ease-in-out hidden">
                                <div class="p-4 bg-gray-800 rounded-b-lg mt-2">
                                    <h4 class="text-xl font-semibold text-white mb-3">Combinations of 3:</h4>
                                    <div class="flex flex-wrap gap-3 justify-center mb-6">
                                        {% for combo in generated_main_combos_3 %}
                                            <div class="flex gap-1 p-2 bg-gray-700 rounded-md shadow-inner">
                                                {% for num in combo %}
                                                    <div class="number-ball tiny-number-ball">{{ num }}</div>
                                                {% endfor %}
                                            </div>
                                        {% endfor %}
                                    </div>

                                    <h4 class="text-xl font-semibold text-white mb-3">Combinations of 2:</h4>
                                    <div class="flex flex-wrap gap-3 justify-center">
                                        {% for combo in generated_main_combos_2 %}
                                            <div class="flex gap-1 p-2 bg-gray-700 rounded-md shadow-inner">
                                                {% for num in combo %}
                                                    <div class="number-ball tiny-number-ball">{{ num }}</div>
                                                {% endfor %}
                                            </div>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        {% else %}
                        <p class="text-gray-400 text-lg text-center">No current prediction available. Predictions are generated twice daily. Please check back soon!</p>
                        {% endif %}
                    {% else %} {# Logged in but NOT subscribed #}
                        <p class="text-gray-400 text-lg mb-4 text-center">
                            Subscribe to unlock current predictions and advanced features!
                        </p>
                        <div class="mt-6 flex justify-center">
                            <a href="{{ url_for('subscribe_info') }}" class="btn bg-yellow-500 hover:bg-yellow-600 text-white text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                                Subscribe Now!
                            </a>
                        </div>
                    {% endif %}
                {% else %} {# Not logged in #}
                    <p class="text-gray-400 text-lg text-center">Login and subscribe to view the current prediction!</p>
                    <div class="mt-6 flex justify-center space-x-4">
                        <a href="{{ url_for('login') }}" class="btn btn-primary">Login</a>
                        <a href="{{ url_for('register') }}" class="btn btn-secondary">Register</a>
                    </div>
                {% endif %}
            </section>

            <section class="p-8 bg-[#1a202c] rounded-xl shadow-lg border border-purple-500 card-hover">
                <h2 class="text-3xl font-bold text-white mb-6 text-center">Live Prediction History</h2>
                {% if logged_in %}
                    {% if is_subscribed %}
                        
                        {% if live_performance_stats and live_performance_stats.total_analyzed > 0 %}
                        <div class="mb-8 p-6 bg-gray-900/50 rounded-lg border border-indigo-700">
                            <h3 class="text-xl font-bold text-center text-indigo-300 mb-4">Recent Performance (Last {{ live_performance_stats.total_analyzed }} Draws)</h3>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                                <div>
                                    <p class="text-3xl font-extrabold text-green-400">{{ live_performance_stats.strike_rate }}%</p>
                                    <p class="text-sm text-gray-400">Strike Rate (≥1 Hit)</p>
                                </div>
                                <div>
                                    <p class="text-3xl font-extrabold text-cyan-400">{{ live_performance_stats.hits_2_plus }}</p>
                                    <p class="text-sm text-gray-400">Times with ≥2 Hits</p>
                                </div>
                                <div>
                                    <p class="text-3xl font-extrabold text-purple-400">{{ live_performance_stats.hits_3_plus }}</p>
                                    <p class="text-sm text-gray-400">Times with ≥3 Hits</p>
                                </div>
                                <div>
                                    <p class="text-3xl font-extrabold text-gray-300">{{ live_performance_stats.total_analyzed }}</p>
                                    <p class="text-sm text-gray-400">Predictions Analyzed</p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        {% if live_prediction_history %}
                            <div class="overflow-x-auto mx-auto max-w-full">
                                <table class="min-w-full bg-[#1f2937] rounded-lg shadow-md">
                                    <thead>
                                        <tr>
                                            <th class="py-3 px-4 text-sm font-semibold text-gray-300 uppercase tracking-wider">Draw Date</th>
                                            <th class="py-3 px-4 text-sm font-semibold text-gray-300 uppercase tracking-wider mobile-hidden">Predicted Mains</th>
                                            <th class="py-3 px-4 text-sm font-semibold text-gray-300 uppercase tracking-wider mobile-hidden">Actual Mains</th>
                                            <th class="py-3 px-4 text-sm font-semibold text-gray-300 uppercase tracking-wider mobile-hidden">Actual Bonuses</th>
                                            <th class="py-3 px-4 text-sm font-semibold text-gray-300 uppercase tracking-wider">Hits</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for entry in live_prediction_history %}
                                        <tr>
                                            <td class="py-3 px-4 text-sm">{{ entry.target_draw_time.strftime('%Y-%m-%d %H:%M') if entry.target_draw_time else 'N/A' }}</td>
                                            <td class="py-3 px-4 mobile-hidden">
                                                <div class="flex flex-wrap gap-1">
                                                    {% for num in entry.prediction %}
                                                        <div class="number-ball tiny-number-ball">{{ num }}</div>
                                                    {% endfor %}
                                                </div>
                                            </td>
                                            <td class="py-3 px-4 mobile-hidden">
                                                <div class="flex flex-wrap gap-1">
                                                    {% if entry.actual_mains %}
                                                        {% for num in entry.actual_mains %}
                                                            <div class="number-ball tiny-number-ball {% if num in entry.prediction %}hit-number{% else %}no-hits-ball{% endif %}">{{ num }}</div>
                                                        {% endfor %}
                                                    {% else %}
                                                        <i class="fas fa-hourglass-half text-gray-500 text-2xl animate-pulse" title="Awaiting Results"></i>
                                                    {% endif %}
                                                </div>
                                            </td>
                                            <td class="py-3 px-4 mobile-hidden">
                                                <div class="flex flex-wrap gap-1">
                                                    {% if entry.actual_bonuses %}
                                                        {% for num in entry.actual_bonuses %}
                                                            <div class="number-ball tiny-number-ball bonus-ball">{{ num }}</div>
                                                        {% endfor %}
                                                    {% else %}
                                                        <i class="fas fa-hourglass-half text-gray-500 text-2xl animate-pulse" title="Awaiting Results"></i>
                                                    {% endif %}
                                                </div>
                                            </td>
                                            <td class="py-3 px-4 text-lg font-bold {% if entry.hits is not none %}{% if entry.hits >= 4 %}text-yellow-400 glow-warning{% elif entry.hits == 3 %}text-green-400 glow-success{% elif entry.hits == 2 %}text-cyan-400{% elif entry.hits == 1 %}text-orange-500{% else %}text-red-500{% endif %}{% else %}text-gray-500{% endif %}">
                                                {% if entry.hits is not none %}
                                                    {{ entry.hits }}
                                                {% else %}
                                                    N/A
                                                {% endif %}
                                            </td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        {% else %}
                            <p class="text-gray-400 text-lg text-center">No prediction history available yet. Your predictions will appear here after they are generated.</p>
                        {% endif %}
                    {% else %} {# Logged in but NOT subscribed #}
                        <p class="text-gray-400 text-lg mb-4 text-center">
                            Subscribe to unlock current predictions and advanced features!
                        </p>
                        <div class="mt-6 flex justify-center">
                            <a href="{{ url_for('subscribe_info') }}" class="btn bg-yellow-500 hover:bg-yellow-600 text-white text-lg px-6 py-3 rounded-full shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 ease-in-out">
                                Subscribe Now!
                            </a>
                        </div>
                    {% endif %}
                {% else %} {# Not logged in #}
                    <p class="text-gray-400 text-lg text-center">Login and subscribe to view your prediction history!</p>
                    <div class="mt-6 flex justify-center space-x-4">
                        <a href="{{ url_for('login') }}" class="btn btn-primary">Login</a>
                        <a href="{{ url_for('register') }}" class="btn btn-secondary">Register</a>
                    </div>
                {% endif %}
            </section>  

           
             

            <section class="p-8 bg-[#1a202c] rounded-xl shadow-lg border border-green-500 card-hover">
                <h2 class="text-3xl font-bold text-white mb-6 text-center">Latest Actual Draw Results</h2>
                {% if latest_draw_time %}
                    <p class="text-gray-300 text-lg mb-4">Draw Date: <span class="font-semibold text-white">{{ latest_draw_time.strftime('%Y-%m-%d %H:%M %Z') }}</span></p>
                    <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-8">
                        <div>
                            <h3 class="text-xl font-semibold text-white mb-2">Main Numbers:</h3>
                            <div class="flex flex-wrap gap-2 justify-center">
                                {% for num in latest_actual_mains %}
                                    <div class="number-ball">{{ num }}</div>
                                {% endfor %}
                            </div>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-white mb-2">Bonus Balls:</h3>
                            <div class="flex flex-wrap gap-2 justify-center">
                                {% for num in latest_actual_bonuses %}
                                    <div class="number-ball bonus-ball">{{ num }}</div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                {% else %}
                    <p class="text-gray-400 text-lg">No latest draw results available yet. Please check back soon!</p>
                {% endif %}
            </section>
        </main>

        <footer class="w-full mt-20 py-10 bg-[#1a202c] rounded-t-xl shadow-inner text-center text-gray-400 text-sm">
            <p>&copy; {{ now.year }} HBet 5/50. All rights reserved.</p>
            <p class="mt-4 max-w-2xl mx-auto leading-relaxed">
                Disclaimer: This application provides predictions based on historical data and algorithms. It does not guarantee winning any lottery. Please play responsibly.
            </p>
            <div class="flex flex-wrap justify-center space-x-6 mt-6 text-base font-medium">
                <a href="#" class="hover:text-indigo-400 transition duration-200 ease-in-out">Privacy Policy</a>
                <span class="text-gray-600">|</span>
                <a href="#" class="hover:text-indigo-400 transition duration-200 ease-in-out">Terms of Service</a>
                <span class="text-gray-600">|</span>
                <a href="mailto:support@hilzhosting.com" class="hover:text-indigo-400 transition duration-200 ease-in-out">Contact Us</a>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Flash message close button functionality
            const closeButtons = document.querySelectorAll('.flash-message .close-button');
            closeButtons.forEach((btn) =>
                btn.addEventListener('click', () => {
                    btn.closest('.flash-message').remove();
                })
            );

            // Toggle "Ticket Combos" section functionality
            const toggleButton = document.getElementById('toggleTicketCombos');
            const ticketCombosContent = document.getElementById('ticketCombosContent');
            const toggleIcon = document.getElementById('toggleIcon');

            if (toggleButton && ticketCombosContent && toggleIcon) {
                toggleButton.addEventListener('click', () => {
                    const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
                    toggleButton.setAttribute('aria-expanded', !isExpanded);

                    if (isExpanded) {
                        ticketCombosContent.style.maxHeight = '0';
                        ticketCombosContent.classList.add('hidden');
                        toggleIcon.classList.remove('rotate-180');
                    } else {
                        ticketCombosContent.classList.remove('hidden');
                        // Set max-height to scrollHeight to allow smooth transition
                        ticketCombosContent.style.maxHeight = ticketCombosContent.scrollHeight + 'px';
                        toggleIcon.classList.add('rotate-180');
                    }
                });

                // Adjust max-height on window resize
                window.addEventListener('resize', () => {
                    if (toggleButton.getAttribute('aria-expanded') === 'true') {
                        ticketCombosContent.style.maxHeight = ticketCombosContent.scrollHeight + 'px';
                    }
                });
            }
        });
    </script>
</body>
</html>
